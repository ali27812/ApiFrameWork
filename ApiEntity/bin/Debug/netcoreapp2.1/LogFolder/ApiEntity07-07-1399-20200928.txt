2020-09-28T11:28:23.9642009+03:30 0HM33GH33U8KF:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T11:28:24.4121542+03:30 0HM33GH33U8KF:00000001 [INF] Request finished in 453.0672ms 200 text/html (791a596a)
2020-09-28T11:28:25.1856822+03:30 0HM33GH33U8KF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T11:28:25.7037413+03:30 0HM33GH33U8KF:00000002 [INF] Request finished in 518.0891ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:31:28.8237483+03:30 0HM33KOTOH1GO:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:31:28.9465154+03:30 0HM33KOTOH1GO:00000001 [INF] Request finished in 128.0734ms 200 text/html (791a596a)
2020-09-28T15:31:29.2306767+03:30 0HM33KOTOH1GO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:31:29.5431206+03:30 0HM33KOTOH1GO:00000002 [INF] Request finished in 312.5042ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:31:39.9994923+03:30 0HM33KOTOH1GO:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:31:40.4496598+03:30 0HM33KOTOH1GO:00000003 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:31:40.4880720+03:30 0HM33KOTOH1GO:00000003 [INF] Authorization failed. (b15dd539)
2020-09-28T15:31:40.4890055+03:30 0HM33KOTOH1GO:00000003 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2020-09-28T15:31:40.4983974+03:30 0HM33KOTOH1GO:00000003 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2020-09-28T15:31:40.5551602+03:30 0HM33KOTOH1GO:00000003 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 84.2768ms (afa2e885)
2020-09-28T15:31:41.0734302+03:30 0HM33KOTOH1GO:00000003 [ERR] You are unauthorized to access this resource. (bfff39ed)
Common.Exceptions.AppException: You are unauthorized to access this resource.
   at WebFramework.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__3_4(JwtBearerChallengeContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Configuration\ServiceCollectionExtensions.cs:line 163
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAlwaysRunResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T15:31:41.0874536+03:30 0HM33KOTOH1GO:00000003 [INF] Request finished in 1087.9822ms 401 application/json (791a596a)
2020-09-28T15:31:41.1018442+03:30  [INF] Connection id ""0HM33KOTOH1GO"", Request id ""0HM33KOTOH1GO:00000003"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T15:32:00.6456158+03:30 0HM33KOTOH1GO:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/User/Token multipart/form-data; boundary=----WebKitFormBoundarynN3dTGpt47KbBY9P 252 (ca22a1cb)
2020-09-28T15:32:01.5941643+03:30 0HM33KOTOH1GO:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:32:01.6045937+03:30 0HM33KOTOH1GO:00000004 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:32:01.8334669+03:30 0HM33KOTOH1GO:00000004 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:32:02.9351543+03:30 0HM33KOTOH1GO:00000004 [INF] Executed DbCommand ("185"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:32:03.1694229+03:30 0HM33KOTOH1GO:00000004 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 1332.2472ms. (50a9e262)
2020-09-28T15:32:03.1835621+03:30 0HM33KOTOH1GO:00000004 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:32:03.1880413+03:30 0HM33KOTOH1GO:00000004 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 1583.326ms (afa2e885)
2020-09-28T15:32:03.2068541+03:30 0HM33KOTOH1GO:00000004 [INF] Request finished in 2561.2237ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:32:42.4334217+03:30 0HM33KOTOH1GO:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:32:42.7741332+03:30 0HM33KOTOH1GO:00000005 [INF] Successfully validated the token. (60169667)
2020-09-28T15:32:42.7783209+03:30 0HM33KOTOH1GO:00000005 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:32:42.8847499+03:30 0HM33KOTOH1GO:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[Age], [e].[FullName], [e].[Gender], [e].[IsActive], [e].[LastLoginDate], [e].[PasswordHash], [e].[RoleId], [e].[SecurityStamp], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2020-09-28T15:32:43.1654562+03:30 0HM33KOTOH1GO:00000005 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:32:43.1664788+03:30 0HM33KOTOH1GO:00000005 [INF] Authorization was successful. (0d575a54)
2020-09-28T15:32:43.2780697+03:30 0HM33KOTOH1GO:00000005 [INF] Executing action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:32:43.7305955+03:30 0HM33KOTOH1GO:00000005 [INF] Executed DbCommand ("253"ms) [Parameters=["@__idModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Amount], [t].[BankComment], [t].[DateTimeCreate], [t].[DateTimeUpdate], [t].[IdCity], [t].[IdCompany], [t].[IdOrder], [t].[IdServant], [t].[IdService], [t].[IdSession], [t].[IsSend], [t].[RRN], [t].[ServiceCode], [t].[ShabaId], [t].[SpecialCode], [t].[StatusPay], [t].[TrackingCode], [t].[TypeAccountPay]
FROM [Orders] AS [t]
WHERE [t].[IdOrder] = @__idModel_Id_0" (0723d8ff)
2020-09-28T15:32:43.7538434+03:30 0HM33KOTOH1GO:00000005 [INF] Executed action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 475.5938ms. (50a9e262)
2020-09-28T15:32:43.7544563+03:30 0HM33KOTOH1GO:00000005 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:32:43.7659025+03:30 0HM33KOTOH1GO:00000005 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 600.3003ms (afa2e885)
2020-09-28T15:32:43.7662873+03:30 0HM33KOTOH1GO:00000005 [INF] Request finished in 1332.8872ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:39:59.8686259+03:30 0HM33KTM2BOHA:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:39:59.9857780+03:30 0HM33KTM2BOHA:00000001 [INF] Request finished in 121.9786ms 200 text/html (791a596a)
2020-09-28T15:40:00.1347040+03:30 0HM33KTM2BOHA:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:40:00.4323148+03:30 0HM33KTM2BOHA:00000002 [INF] Request finished in 297.5843ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:40:09.2456524+03:30 0HM33KTM2BOHA:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:40:09.3613775+03:30 0HM33KTM2BOHA:00000003 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:40:09.3727732+03:30 0HM33KTM2BOHA:00000003 [INF] Authorization failed. (b15dd539)
2020-09-28T15:40:09.3732454+03:30 0HM33KTM2BOHA:00000003 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2020-09-28T15:40:09.3782448+03:30 0HM33KTM2BOHA:00000003 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2020-09-28T15:40:09.4071620+03:30 0HM33KTM2BOHA:00000003 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 42.5754ms (afa2e885)
2020-09-28T15:40:09.4382410+03:30 0HM33KTM2BOHA:00000003 [ERR] You are unauthorized to access this resource. (bfff39ed)
Common.Exceptions.AppException: You are unauthorized to access this resource.
   at WebFramework.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__3_4(JwtBearerChallengeContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Configuration\ServiceCollectionExtensions.cs:line 163
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAlwaysRunResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T15:40:09.4447799+03:30 0HM33KTM2BOHA:00000003 [INF] Request finished in 199.1935ms 401 application/json (791a596a)
2020-09-28T15:40:09.4528585+03:30  [INF] Connection id ""0HM33KTM2BOHA"", Request id ""0HM33KTM2BOHA:00000003"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T15:41:07.8208341+03:30 0HM33KUAA9DHR:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:41:07.9523144+03:30 0HM33KUAA9DHR:00000001 [INF] Request finished in 140.4133ms 200 text/html (791a596a)
2020-09-28T15:41:08.1172104+03:30 0HM33KUAA9DHR:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:41:08.4474132+03:30 0HM33KUAA9DHR:00000002 [INF] Request finished in 330.2614ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:41:20.8330865+03:30 0HM33KUAA9DHR:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:41:20.9304874+03:30 0HM33KUAA9DHR:00000003 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:41:20.9417600+03:30 0HM33KUAA9DHR:00000003 [INF] Authorization failed. (b15dd539)
2020-09-28T15:41:20.9428327+03:30 0HM33KUAA9DHR:00000003 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2020-09-28T15:41:20.9481305+03:30 0HM33KUAA9DHR:00000003 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2020-09-28T15:41:20.9531794+03:30 0HM33KUAA9DHR:00000003 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 19.4418ms (afa2e885)
2020-09-28T15:41:20.9941906+03:30 0HM33KUAA9DHR:00000003 [ERR] No authenticationScheme was specified, and there was no DefaultChallengeScheme found. (b18cfceb)
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found.
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAlwaysRunResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T15:41:21.0003784+03:30 0HM33KUAA9DHR:00000003 [INF] Request finished in 167.3601ms 500 application/json (791a596a)
2020-09-28T15:41:21.0090581+03:30  [INF] Connection id ""0HM33KUAA9DHR"", Request id ""0HM33KUAA9DHR:00000003"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T15:44:55.8099019+03:30 0HM33L0E89544:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger   (ca22a1cb)
2020-09-28T15:44:55.8099019+03:30 0HM33L0E89543:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:61885/  0 (ca22a1cb)
2020-09-28T15:44:55.8565343+03:30 0HM33L0E89543:00000001 [INF] Request finished in 49.4878ms 200  (791a596a)
2020-09-28T15:44:55.9163086+03:30 0HM33L0E89544:00000001 [INF] Request finished in 114.0046ms 301  (791a596a)
2020-09-28T15:44:55.9508611+03:30 0HM33L0E89543:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:44:56.2211435+03:30 0HM33L0E89543:00000002 [INF] Request finished in 269.7879ms 200 text/html (791a596a)
2020-09-28T15:44:56.3057663+03:30 0HM33L0E89544:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui.css   (ca22a1cb)
2020-09-28T15:44:56.3281541+03:30 0HM33L0E89543:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-09-28T15:44:56.3302068+03:30 0HM33L0E89545:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-09-28T15:44:56.5365637+03:30 0HM33L0E89544:00000002 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:44:56.5434241+03:30 0HM33L0E89544:00000002 [INF] Request finished in 250.6343ms 200 text/css (791a596a)
2020-09-28T15:44:56.6237544+03:30 0HM33L0E89545:00000001 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:44:56.6265033+03:30 0HM33L0E89545:00000001 [INF] Request finished in 295.2425ms 200 application/javascript (791a596a)
2020-09-28T15:44:57.0338136+03:30 0HM33L0E89543:00000003 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:44:57.0374040+03:30 0HM33L0E89543:00000003 [INF] Request finished in 728.3256ms 200 application/javascript (791a596a)
2020-09-28T15:44:57.7081117+03:30 0HM33L0E89544:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js.map   (ca22a1cb)
2020-09-28T15:44:57.7861447+03:30 0HM33L0E89544:00000003 [INF] Sending file. Request path: '"/swagger-ui-bundle.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:44:57.7893052+03:30 0HM33L0E89544:00000003 [INF] Request finished in 80.0897ms 200 text/plain (791a596a)
2020-09-28T15:44:58.7067139+03:30 0HM33L0E89545:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js.map   (ca22a1cb)
2020-09-28T15:44:58.7828563+03:30 0HM33L0E89545:00000002 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:44:58.7855810+03:30 0HM33L0E89545:00000002 [INF] Request finished in 78.3467ms 200 text/plain (791a596a)
2020-09-28T15:44:59.0724333+03:30 0HM33L0E89543:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:44:59.3666941+03:30 0HM33L0E89544:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/favicon-32x32.png   (ca22a1cb)
2020-09-28T15:44:59.3933440+03:30 0HM33L0E89544:00000004 [INF] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:44:59.3965834+03:30 0HM33L0E89544:00000004 [INF] Request finished in 30.9626ms 200 image/png (791a596a)
2020-09-28T15:44:59.4733006+03:30 0HM33L0E89543:00000004 [INF] Request finished in 399.0252ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:45:09.6327014+03:30 0HM33L0E89545:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:45:09.8392771+03:30 0HM33L0E89545:00000003 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:45:09.8542546+03:30 0HM33L0E89545:00000003 [INF] Authorization failed. (b15dd539)
2020-09-28T15:45:09.8564201+03:30 0HM33L0E89545:00000003 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2020-09-28T15:45:09.8636095+03:30 0HM33L0E89545:00000003 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2020-09-28T15:45:17.6320564+03:30 0HM33L0E89545:00000003 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 7782.9961ms (afa2e885)
2020-09-28T15:45:17.7617490+03:30 0HM33L0E89545:00000003 [ERR] You are unauthorized to access this resource. (bfff39ed)
Common.Exceptions.AppException: You are unauthorized to access this resource.
   at WebFramework.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__3_4(JwtBearerChallengeContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Configuration\ServiceCollectionExtensions.cs:line 163
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAlwaysRunResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T15:45:17.7702663+03:30 0HM33L0E89545:00000003 [INF] Request finished in 8137.7749ms 401 application/json (791a596a)
2020-09-28T15:45:17.7840591+03:30  [INF] Connection id ""0HM33L0E89545"", Request id ""0HM33L0E89545:00000003"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T15:45:38.0557841+03:30 0HM33L0E89544:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/User/Token multipart/form-data; boundary=----WebKitFormBoundaryHLdDVwcTKktbO5LD 252 (ca22a1cb)
2020-09-28T15:45:38.4990050+03:30 0HM33L0E89544:00000005 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:45:38.5133546+03:30 0HM33L0E89544:00000005 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:45:38.5865032+03:30 0HM33L0E89544:00000005 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:45:38.9041084+03:30 0HM33L0E89544:00000005 [INF] Executed DbCommand ("17"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:45:39.0414333+03:30 0HM33L0E89544:00000005 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 449.0293ms. (50a9e262)
2020-09-28T15:45:39.0589133+03:30 0HM33L0E89544:00000005 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:45:39.0656752+03:30 0HM33L0E89544:00000005 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 550.3105ms (afa2e885)
2020-09-28T15:45:39.0709809+03:30 0HM33L0E89544:00000005 [INF] Request finished in 1014.7634ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:45:44.2548268+03:30 0HM33L0E89543:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/User/Token multipart/form-data; boundary=----WebKitFormBoundaryfh6H13viw3OBtYWL 252 (ca22a1cb)
2020-09-28T15:45:44.2581945+03:30 0HM33L0E89543:00000005 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:45:44.2612173+03:30 0HM33L0E89543:00000005 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:45:44.2651104+03:30 0HM33L0E89543:00000005 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:45:44.3160594+03:30 0HM33L0E89543:00000005 [INF] Executed DbCommand ("47"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:45:44.3194882+03:30 0HM33L0E89543:00000005 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 52.629ms. (50a9e262)
2020-09-28T15:45:44.3215939+03:30 0HM33L0E89543:00000005 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:45:44.3232808+03:30 0HM33L0E89543:00000005 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 60.5723ms (afa2e885)
2020-09-28T15:45:44.3252060+03:30 0HM33L0E89543:00000005 [INF] Request finished in 70.5237ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:46:04.8577849+03:30 0HM33L0E89545:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:46:04.8599660+03:30 0HM33L0E89545:00000004 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:46:04.8617848+03:30 0HM33L0E89545:00000004 [INF] Authorization failed. (b15dd539)
2020-09-28T15:46:04.8633002+03:30 0HM33L0E89545:00000004 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2020-09-28T15:46:04.8648605+03:30 0HM33L0E89545:00000004 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2020-09-28T15:46:06.9027064+03:30 0HM33L0E89545:00000004 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 2041.2239ms (afa2e885)
2020-09-28T15:46:06.9221711+03:30 0HM33L0E89545:00000004 [ERR] You are unauthorized to access this resource. (bfff39ed)
Common.Exceptions.AppException: You are unauthorized to access this resource.
   at WebFramework.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__3_4(JwtBearerChallengeContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Configuration\ServiceCollectionExtensions.cs:line 163
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAlwaysRunResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T15:46:06.9254516+03:30 0HM33L0E89545:00000004 [INF] Request finished in 2067.695ms 401 application/json (791a596a)
2020-09-28T15:46:06.9273111+03:30  [INF] Connection id ""0HM33L0E89545"", Request id ""0HM33L0E89545:00000004"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T15:46:33.8375315+03:30 0HM33L0E89544:00000006 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:46:33.9015141+03:30 0HM33L0E89544:00000006 [INF] Successfully validated the token. (60169667)
2020-09-28T15:46:33.9053480+03:30 0HM33L0E89544:00000006 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:46:33.9233279+03:30 0HM33L0E89544:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[Age], [e].[FullName], [e].[Gender], [e].[IsActive], [e].[LastLoginDate], [e].[PasswordHash], [e].[RoleId], [e].[SecurityStamp], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2020-09-28T15:46:33.9418452+03:30 0HM33L0E89544:00000006 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:46:33.9444519+03:30 0HM33L0E89544:00000006 [INF] Authorization was successful. (0d575a54)
2020-09-28T15:46:33.9782899+03:30 0HM33L0E89544:00000006 [INF] Executing action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:46:34.0035415+03:30 0HM33L0E89544:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__idModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Amount], [t].[BankComment], [t].[DateTimeCreate], [t].[DateTimeUpdate], [t].[IdCity], [t].[IdCompany], [t].[IdOrder], [t].[IdServant], [t].[IdService], [t].[IdSession], [t].[IsSend], [t].[RRN], [t].[ServiceCode], [t].[ShabaId], [t].[SpecialCode], [t].[StatusPay], [t].[TrackingCode], [t].[TypeAccountPay]
FROM [Orders] AS [t]
WHERE [t].[IdOrder] = @__idModel_Id_0" (0723d8ff)
2020-09-28T15:46:34.0101595+03:30 0HM33L0E89544:00000006 [INF] Executed action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 30.1276ms. (50a9e262)
2020-09-28T15:46:34.0117815+03:30 0HM33L0E89544:00000006 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:46:34.0191483+03:30 0HM33L0E89544:00000006 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 75.6215ms (afa2e885)
2020-09-28T15:46:34.0215212+03:30 0HM33L0E89544:00000006 [INF] Request finished in 183.9081ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:48:06.3131379+03:30 0HM33L271A8A1:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:48:06.5963527+03:30 0HM33L271A8A1:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:48:06.7256114+03:30 0HM33L271A8A1:00000001 [INF] Request finished in 418.1674ms 200 text/html (791a596a)
2020-09-28T15:48:06.8875829+03:30 0HM33L271A8A1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:48:06.8892035+03:30 0HM33L271A8A1:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:48:07.2048824+03:30 0HM33L271A8A1:00000002 [INF] Request finished in 317.3089ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:48:23.3363887+03:30 0HM33L271A8A1:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/User/Token multipart/form-data; boundary=----WebKitFormBoundaryBMidDYknu2llQllr 252 (ca22a1cb)
2020-09-28T15:48:23.3371487+03:30 0HM33L271A8A1:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:48:23.4539442+03:30 0HM33L271A8A1:00000003 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:48:23.5111364+03:30 0HM33L271A8A1:00000003 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:48:23.6633054+03:30 0HM33L271A8A1:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:48:23.7703839+03:30 0HM33L271A8A1:00000003 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 255.9052ms. (50a9e262)
2020-09-28T15:48:23.7857421+03:30 0HM33L271A8A1:00000003 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:48:23.7926894+03:30 0HM33L271A8A1:00000003 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 335.6107ms (afa2e885)
2020-09-28T15:48:23.7978883+03:30 0HM33L271A8A1:00000003 [INF] Request finished in 461.5419ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:48:40.6305327+03:30 0HM33L271A8A1:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:48:40.6310507+03:30 0HM33L271A8A1:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:48:40.6625763+03:30 0HM33L271A8A1:00000004 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:48:40.6673887+03:30 0HM33L271A8A1:00000004 [INF] Authorization failed. (b15dd539)
2020-09-28T15:48:40.6677006+03:30 0HM33L271A8A1:00000004 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2020-09-28T15:48:40.6716775+03:30 0HM33L271A8A1:00000004 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2020-09-28T15:48:40.6768787+03:30 0HM33L271A8A1:00000004 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 14.1735ms (afa2e885)
2020-09-28T15:48:40.7062611+03:30 0HM33L271A8A1:00000004 [ERR] You are unauthorized to access this resource. (bfff39ed)
Common.Exceptions.AppException: You are unauthorized to access this resource.
   at WebFramework.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__3_4(JwtBearerChallengeContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Configuration\ServiceCollectionExtensions.cs:line 163
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAlwaysRunResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.AuthenticationMiddleware.Invoke(HttpContext context, IUserRepository userRepository) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\AuthenticationMiddleware.cs:line 84
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T15:48:40.7117646+03:30 0HM33L271A8A1:00000004 [INF] Request finished in 81.2483ms 401 application/json (791a596a)
2020-09-28T15:48:40.7135636+03:30  [INF] Connection id ""0HM33L271A8A1"", Request id ""0HM33L271A8A1:00000004"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T15:53:47.3055347+03:30 0HM33L5CL797N:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:53:47.4348749+03:30 0HM33L5CL797N:00000001 [INF] Request finished in 136.4768ms 200 text/html (791a596a)
2020-09-28T15:53:47.5901823+03:30 0HM33L5CL797N:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:53:47.9116641+03:30 0HM33L5CL797N:00000002 [INF] Request finished in 321.5249ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:54:08.2416660+03:30 0HM33L5CL797N:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/User/Token multipart/form-data; boundary=----WebKitFormBoundaryAz6Oh31MyUfhYoeg 252 (ca22a1cb)
2020-09-28T15:54:08.3582844+03:30 0HM33L5CL797N:00000003 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:54:08.5732997+03:30 0HM33L5CL797N:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:54:08.6353022+03:30 0HM33L5CL797N:00000003 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:54:08.7907348+03:30 0HM33L5CL797N:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:54:08.8985888+03:30 0HM33L5CL797N:00000003 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 259.9054ms. (50a9e262)
2020-09-28T15:54:08.9137528+03:30 0HM33L5CL797N:00000003 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:54:08.9211762+03:30 0HM33L5CL797N:00000003 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 559.3876ms (afa2e885)
2020-09-28T15:54:08.9266615+03:30 0HM33L5CL797N:00000003 [INF] Request finished in 685.0494ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:55:15.5208078+03:30 0HM33L66UAR85:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:61885/  0 (ca22a1cb)
2020-09-28T15:55:15.5208077+03:30 0HM33L66UAR86:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger   (ca22a1cb)
2020-09-28T15:55:15.5696348+03:30 0HM33L66UAR85:00000001 [INF] Request finished in 52.1885ms 200  (791a596a)
2020-09-28T15:55:15.6289401+03:30 0HM33L66UAR86:00000001 [INF] Request finished in 116.9829ms 301  (791a596a)
2020-09-28T15:55:15.6531856+03:30 0HM33L66UAR85:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:55:15.7457784+03:30 0HM33L66UAR85:00000002 [INF] Request finished in 91.4586ms 200 text/html (791a596a)
2020-09-28T15:55:15.7871481+03:30 0HM33L66UAR85:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-09-28T15:55:15.7883859+03:30 0HM33L66UAR86:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui.css   (ca22a1cb)
2020-09-28T15:55:15.7902041+03:30 0HM33L66UAR87:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-09-28T15:55:15.8561998+03:30 0HM33L66UAR86:00000002 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:55:15.8563228+03:30 0HM33L66UAR85:00000003 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:55:15.8566869+03:30 0HM33L66UAR87:00000001 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:55:15.8659913+03:30 0HM33L66UAR86:00000002 [INF] Request finished in 79.6739ms 200 text/css (791a596a)
2020-09-28T15:55:15.8668480+03:30 0HM33L66UAR87:00000001 [INF] Request finished in 73.5191ms 200 application/javascript (791a596a)
2020-09-28T15:55:15.8702798+03:30 0HM33L66UAR85:00000003 [INF] Request finished in 79.6739ms 200 application/javascript (791a596a)
2020-09-28T15:55:16.3536221+03:30 0HM33L66UAR86:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js.map   (ca22a1cb)
2020-09-28T15:55:16.3797586+03:30 0HM33L66UAR86:00000003 [INF] Sending file. Request path: '"/swagger-ui-bundle.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:55:16.3824662+03:30 0HM33L66UAR86:00000003 [INF] Request finished in 28.2201ms 200 text/plain (791a596a)
2020-09-28T15:55:17.0453460+03:30 0HM33L66UAR87:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js.map   (ca22a1cb)
2020-09-28T15:55:17.0533770+03:30 0HM33L66UAR87:00000002 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:55:17.0613192+03:30 0HM33L66UAR87:00000002 [INF] Request finished in 11.063ms 200 text/plain (791a596a)
2020-09-28T15:55:17.4025905+03:30 0HM33L66UAR85:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:55:17.8097327+03:30 0HM33L66UAR85:00000004 [INF] Request finished in 406.3815ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:55:43.0934237+03:30 0HM33L66UAR86:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/user/Token  0 (ca22a1cb)
2020-09-28T15:55:43.2670072+03:30 0HM33L66UAR86:00000004 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:55:43.6647245+03:30 0HM33L66UAR86:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:55:43.7001051+03:30 0HM33L66UAR86:00000004 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:56:00.4657756+03:30 0HM33L66UAR86:00000004 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 16759.9103ms. (50a9e262)
2020-09-28T15:56:00.4796504+03:30 0HM33L66UAR86:00000004 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult"'. (2f513669)
2020-09-28T15:56:00.4888041+03:30 0HM33L66UAR86:00000004 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 17216.1178ms (afa2e885)
2020-09-28T15:56:00.4913273+03:30 0HM33L66UAR86:00000004 [INF] Request finished in 17398.287ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:56:36.3579133+03:30 0HM33L6V1E3OR:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:61885/  0 (ca22a1cb)
2020-09-28T15:56:36.4075232+03:30 0HM33L6V1E3OR:00000001 [INF] Request finished in 43.701ms 200  (791a596a)
2020-09-28T15:56:36.8330902+03:30 0HM33L6V1E3OR:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger   (ca22a1cb)
2020-09-28T15:56:37.2075110+03:30 0HM33L6V1E3OR:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:37.3026795+03:30 0HM33L6V1E3OR:00000002 [INF] Request finished in 469.5341ms 301  (791a596a)
2020-09-28T15:56:37.3049431+03:30 0HM33L6V1E3OR:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:56:37.3255631+03:30 0HM33L6V1E3OR:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:37.4353199+03:30 0HM33L6V1E3OR:00000003 [INF] Request finished in 130.5019ms 200 text/html (791a596a)
2020-09-28T15:56:37.4799955+03:30 0HM33L6V1E3OR:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui.css   (ca22a1cb)
2020-09-28T15:56:37.4845226+03:30 0HM33L6V1E3OS:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-09-28T15:56:37.4852339+03:30 0HM33L6V1E3OR:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:37.4935335+03:30 0HM33L6V1E3OT:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-09-28T15:56:37.4954071+03:30 0HM33L6V1E3OS:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:37.5483925+03:30 0HM33L6V1E3OT:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:37.6128342+03:30 0HM33L6V1E3OT:00000001 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:56:37.6128216+03:30 0HM33L6V1E3OS:00000001 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:56:37.6143822+03:30 0HM33L6V1E3OR:00000004 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:56:37.6239527+03:30 0HM33L6V1E3OR:00000004 [INF] Request finished in 143.4473ms 200 text/css (791a596a)
2020-09-28T15:56:37.6270430+03:30 0HM33L6V1E3OT:00000001 [INF] Request finished in 134.0929ms 200 application/javascript (791a596a)
2020-09-28T15:56:37.6280808+03:30 0HM33L6V1E3OS:00000001 [INF] Request finished in 138.8063ms 200 application/javascript (791a596a)
2020-09-28T15:56:38.0436473+03:30 0HM33L6V1E3OR:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js.map   (ca22a1cb)
2020-09-28T15:56:38.0465628+03:30 0HM33L6V1E3OR:00000005 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:38.0667632+03:30 0HM33L6V1E3OR:00000005 [INF] Sending file. Request path: '"/swagger-ui-bundle.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:56:38.0684648+03:30 0HM33L6V1E3OR:00000005 [INF] Request finished in 24.9977ms 200 text/plain (791a596a)
2020-09-28T15:56:38.7809890+03:30 0HM33L6V1E3OT:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js.map   (ca22a1cb)
2020-09-28T15:56:38.7835233+03:30 0HM33L6V1E3OT:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:38.7915738+03:30 0HM33L6V1E3OT:00000002 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:56:38.7942683+03:30 0HM33L6V1E3OT:00000002 [INF] Request finished in 12.9574ms 200 text/plain (791a596a)
2020-09-28T15:56:39.1177142+03:30 0HM33L6V1E3OS:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:56:39.1203537+03:30 0HM33L6V1E3OS:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:39.4970833+03:30 0HM33L6V1E3OS:00000002 [INF] Request finished in 379.2868ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:56:43.6600013+03:30 0HM33L6V1E3OR:00000006 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/user/Token  0 (ca22a1cb)
2020-09-28T15:56:43.6643797+03:30 0HM33L6V1E3OR:00000006 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:56:43.9139591+03:30 0HM33L6V1E3OR:00000006 [INF] Executed DbCommand ("20"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:56:44.1910943+03:30 0HM33L6V1E3OR:00000006 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:56:44.2330488+03:30 0HM33L6V1E3OR:00000006 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:56:51.4460298+03:30 0HM33L6V1E3OR:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:56:51.5379923+03:30 0HM33L6V1E3OR:00000006 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 7298.801ms. (50a9e262)
2020-09-28T15:56:51.5585898+03:30 0HM33L6V1E3OR:00000006 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:56:51.5735890+03:30 0HM33L6V1E3OR:00000006 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 7375.0946ms (afa2e885)
2020-09-28T15:56:51.5790230+03:30 0HM33L6V1E3OR:00000006 [INF] Request finished in 7920.2257ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:57:14.9685154+03:30 0HM33L6V1E3OT:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/User/Token multipart/form-data; boundary=----WebKitFormBoundaryVHwk53qDHVbfvfg7 252 (ca22a1cb)
2020-09-28T15:57:14.9713906+03:30 0HM33L6V1E3OT:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:57:14.9789936+03:30 0HM33L6V1E3OT:00000003 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:57:15.0158112+03:30 0HM33L6V1E3OT:00000003 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:57:21.8228964+03:30 0HM33L6V1E3OT:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:57:21.8272509+03:30 0HM33L6V1E3OT:00000003 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 6808.663ms. (50a9e262)
2020-09-28T15:57:21.8304838+03:30 0HM33L6V1E3OT:00000003 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:57:21.8329233+03:30 0HM33L6V1E3OT:00000003 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 6852.1652ms (afa2e885)
2020-09-28T15:57:21.8353198+03:30 0HM33L6V1E3OT:00000003 [INF] Request finished in 6867.1671ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:57:42.1870183+03:30 0HM33L6V1E3OR:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:57:42.1909247+03:30 0HM33L6V1E3OR:00000007 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:57:42.2052500+03:30 0HM33L6V1E3OR:00000007 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:57:42.2174760+03:30 0HM33L6V1E3OR:00000007 [INF] Authorization failed. (b15dd539)
2020-09-28T15:57:42.2195616+03:30 0HM33L6V1E3OR:00000007 [INF] Authorization failed for the request at filter '"Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter"'. (8b6446cb)
2020-09-28T15:57:42.2290253+03:30 0HM33L6V1E3OR:00000007 [INF] Executing ChallengeResult with authentication schemes ([]). (f3dca807)
2020-09-28T15:57:44.5819493+03:30 0HM33L6V1E3OR:00000007 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 2373.0025ms (afa2e885)
2020-09-28T15:57:44.6808288+03:30 0HM33L6V1E3OR:00000007 [ERR] You are unauthorized to access this resource. (bfff39ed)
Common.Exceptions.AppException: You are unauthorized to access this resource.
   at WebFramework.Configuration.ServiceCollectionExtensions.<>c.<AddJwtAuthentication>b__3_4(JwtBearerChallengeContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Configuration\ServiceCollectionExtensions.cs:line 163
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.Challenge(JwtBearerChallengeContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAlwaysRunResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.AuthenticationMiddleware.Invoke(HttpContext context, IUserRepository userRepository) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\AuthenticationMiddleware.cs:line 84
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T15:57:44.6902221+03:30 0HM33L6V1E3OR:00000007 [INF] Request finished in 2503.1761ms 401 application/json (791a596a)
2020-09-28T15:57:44.6942798+03:30  [INF] Connection id ""0HM33L6V1E3OR"", Request id ""0HM33L6V1E3OR:00000007"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T15:57:57.9911223+03:30 0HM33L6V1E3OT:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T15:57:57.9932520+03:30 0HM33L6V1E3OT:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:57:58.0527484+03:30 0HM33L6V1E3OT:00000004 [INF] Successfully validated the token. (60169667)
2020-09-28T15:57:58.0709336+03:30 0HM33L6V1E3OT:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[Age], [e].[FullName], [e].[Gender], [e].[IsActive], [e].[LastLoginDate], [e].[PasswordHash], [e].[RoleId], [e].[SecurityStamp], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2020-09-28T15:57:58.0900512+03:30 0HM33L6V1E3OT:00000004 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:57:58.0920561+03:30 0HM33L6V1E3OT:00000004 [INF] Authorization was successful. (0d575a54)
2020-09-28T15:57:58.1013800+03:30 0HM33L6V1E3OT:00000004 [INF] Executing action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:57:58.1258350+03:30 0HM33L6V1E3OT:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__idModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Amount], [t].[BankComment], [t].[DateTimeCreate], [t].[DateTimeUpdate], [t].[IdCity], [t].[IdCompany], [t].[IdOrder], [t].[IdServant], [t].[IdService], [t].[IdSession], [t].[IsSend], [t].[RRN], [t].[ServiceCode], [t].[ShabaId], [t].[SpecialCode], [t].[StatusPay], [t].[TrackingCode], [t].[TypeAccountPay]
FROM [Orders] AS [t]
WHERE [t].[IdOrder] = @__idModel_Id_0" (0723d8ff)
2020-09-28T15:57:58.1327693+03:30 0HM33L6V1E3OT:00000004 [INF] Executed action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 29.8748ms. (50a9e262)
2020-09-28T15:57:58.1348199+03:30 0HM33L6V1E3OT:00000004 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:57:58.1426525+03:30 0HM33L6V1E3OT:00000004 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 50.5992ms (afa2e885)
2020-09-28T15:57:58.1446221+03:30 0HM33L6V1E3OT:00000004 [INF] Request finished in 153.6744ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T15:59:03.5260791+03:30 0HM33L8ASR175:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:61885/  0 (ca22a1cb)
2020-09-28T15:59:03.5260878+03:30 0HM33L8ASR176:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger   (ca22a1cb)
2020-09-28T15:59:03.5750623+03:30 0HM33L8ASR175:00000001 [INF] Request finished in 50.9726ms 200  (791a596a)
2020-09-28T15:59:03.9095699+03:30 0HM33L8ASR176:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:03.9871937+03:30 0HM33L8ASR176:00000001 [INF] Request finished in 467.8199ms 301  (791a596a)
2020-09-28T15:59:03.9911347+03:30 0HM33L8ASR175:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T15:59:04.0023636+03:30 0HM33L8ASR175:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:04.0826052+03:30 0HM33L8ASR175:00000002 [INF] Request finished in 91.3382ms 200 text/html (791a596a)
2020-09-28T15:59:04.1274267+03:30 0HM33L8ASR176:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js   (ca22a1cb)
2020-09-28T15:59:04.1284348+03:30 0HM33L8ASR175:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui.css   (ca22a1cb)
2020-09-28T15:59:04.1300264+03:30 0HM33L8ASR177:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js   (ca22a1cb)
2020-09-28T15:59:04.1324129+03:30 0HM33L8ASR176:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:04.1332176+03:30 0HM33L8ASR177:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:04.1343690+03:30 0HM33L8ASR175:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:04.1924380+03:30 0HM33L8ASR175:00000003 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:59:04.1924380+03:30 0HM33L8ASR177:00000001 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:59:04.1927001+03:30 0HM33L8ASR176:00000002 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:59:04.2025969+03:30 0HM33L8ASR175:00000003 [INF] Request finished in 73.9903ms 200 text/css (791a596a)
2020-09-28T15:59:04.2052035+03:30 0HM33L8ASR176:00000002 [INF] Request finished in 74.1239ms 200 application/javascript (791a596a)
2020-09-28T15:59:04.2066059+03:30 0HM33L8ASR177:00000001 [INF] Request finished in 70.453ms 200 application/javascript (791a596a)
2020-09-28T15:59:04.7226532+03:30 0HM33L8ASR175:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-bundle.js.map   (ca22a1cb)
2020-09-28T15:59:04.7250463+03:30 0HM33L8ASR175:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:04.7452237+03:30 0HM33L8ASR175:00000004 [INF] Sending file. Request path: '"/swagger-ui-bundle.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:59:04.7470214+03:30 0HM33L8ASR175:00000004 [INF] Request finished in 24.3968ms 200 text/plain (791a596a)
2020-09-28T15:59:05.4371366+03:30 0HM33L8ASR177:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/swagger-ui-standalone-preset.js.map   (ca22a1cb)
2020-09-28T15:59:05.4397458+03:30 0HM33L8ASR177:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:05.4529533+03:30 0HM33L8ASR177:00000002 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js.map"'. Physical path: '"N/A"' (27b0a520)
2020-09-28T15:59:05.4549696+03:30 0HM33L8ASR177:00000002 [INF] Request finished in 17.7277ms 200 text/plain (791a596a)
2020-09-28T15:59:05.7209073+03:30 0HM33L8ASR176:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T15:59:05.7235151+03:30 0HM33L8ASR176:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:06.0555524+03:30 0HM33L8ASR176:00000003 [INF] Request finished in 334.573ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T15:59:25.9056755+03:30 0HM33L8ASR175:00000005 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/User/Token multipart/form-data; boundary=----WebKitFormBoundarygU6qtdAz19kPQ4dM 252 (ca22a1cb)
2020-09-28T15:59:25.9089607+03:30 0HM33L8ASR175:00000005 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T15:59:26.0758091+03:30 0HM33L8ASR175:00000005 [INF] Route matched with "{action = \"Token\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Token(ApiEntity.Models.TokenModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.UserController" ("ApiEntity"). (122b2fdf)
2020-09-28T15:59:26.1495324+03:30 0HM33L8ASR175:00000005 [INF] Executing action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T15:59:28.8855630+03:30 0HM33L8ASR175:00000005 [INF] Executed DbCommand ("16"ms) [Parameters=["@__username_0='?' (Size = 100), @__passwordHash_1='?' (Size = 500)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[Age], [p].[FullName], [p].[Gender], [p].[IsActive], [p].[LastLoginDate], [p].[PasswordHash], [p].[RoleId], [p].[SecurityStamp], [p].[UserName]
FROM [Users] AS [p]
WHERE ([p].[UserName] = @__username_0) AND ([p].[PasswordHash] = @__passwordHash_1)" (0723d8ff)
2020-09-28T15:59:29.0389194+03:30 0HM33L8ASR175:00000005 [INF] Executed action method "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2883.6904ms. (50a9e262)
2020-09-28T15:59:29.0589284+03:30 0HM33L8ASR175:00000005 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T15:59:29.0711065+03:30 0HM33L8ASR175:00000005 [INF] Executed action "ApiEntity.Controllers.v1.UserController.Token (ApiEntity)" in 2988.5169ms (afa2e885)
2020-09-28T15:59:29.0775695+03:30 0HM33L8ASR175:00000005 [INF] Request finished in 3170.7861ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T16:02:38.9142610+03:30 0HM33LAB32IF9:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T16:02:39.1975186+03:30 0HM33LAB32IF9:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:02:39.3079803+03:30 0HM33LAB32IF9:00000001 [INF] Request finished in 398.8947ms 200 text/html (791a596a)
2020-09-28T16:02:39.4456097+03:30 0HM33LAB32IF9:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T16:02:39.4475313+03:30 0HM33LAB32IF9:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:02:39.7237200+03:30 0HM33LAB32IF9:00000002 [INF] Request finished in 278.1546ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T16:02:54.2741263+03:30 0HM33LAB32IF9:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T16:02:54.2748399+03:30 0HM33LAB32IF9:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:02:54.4778541+03:30 0HM33LAB32IF9:00000003 [ERR] The requested service 'Microsoft.AspNetCore.Authorization.IAuthorizationPolicyProvider' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency. (0f2bf95d)
Autofac.Core.Registration.ComponentNotRegisteredException: The requested service 'Microsoft.AspNetCore.Authorization.IAuthorizationPolicyProvider' has not been registered. To avoid this exception, either register a component to provide the service, check for service registration using IsRegistered(), or use the ResolveOptional() method to resolve an optional dependency.
   at Autofac.ResolutionExtensions.ResolveService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter.Microsoft.AspNetCore.Mvc.Filters.IFilterFactory.CreateInstance(IServiceProvider serviceProvider)
   at Microsoft.AspNetCore.Mvc.Internal.DefaultFilterProvider.ProvideFilter(FilterProviderContext context, FilterItem filterItem)
   at Microsoft.AspNetCore.Mvc.Internal.DefaultFilterProvider.OnProvidersExecuting(FilterProviderContext context)
   at Microsoft.AspNetCore.Mvc.Internal.FilterFactory.CreateUncachedFiltersCore(IFilterProvider[] filterProviders, ActionContext actionContext, List`1 filterItems)
   at Microsoft.AspNetCore.Mvc.Internal.FilterFactory.GetAllFilters(IFilterProvider[] filterProviders, ActionContext actionContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvokerProvider.OnProvidersExecuting(ActionInvokerProviderContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ActionInvokerFactory.CreateInvoker(ActionContext actionContext)
   at Microsoft.AspNetCore.Mvc.Routing.DefaultApiVersionRoutePolicy.DefaultActionHandler.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at WebFramework.Middlewares.AuthenticationMiddleware.Invoke(HttpContext context, IUserRepository userRepository) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\AuthenticationMiddleware.cs:line 84
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T16:02:54.4833529+03:30 0HM33LAB32IF9:00000003 [INF] Request finished in 209.2747ms 500 application/json (791a596a)
2020-09-28T16:02:54.4926707+03:30  [INF] Connection id ""0HM33LAB32IF9"", Request id ""0HM33LAB32IF9:00000003"": the application completed without reading the entire request body. (54ac9468)
2020-09-28T16:07:37.7228562+03:30 0HM33LD44RV2J:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T16:07:38.0106406+03:30 0HM33LD44RV2J:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:07:38.1017954+03:30 0HM33LD44RV2J:00000001 [ERR] An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) (f8ff7a4f)
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass4_1.<UseMiddleware>b__2(HttpContext context)
   at WebFramework.Middlewares.AuthenticationMiddleware.Invoke(HttpContext context, IUserRepository userRepository) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\AuthenticationMiddleware.cs:line 84
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T16:07:38.1606080+03:30 0HM33LD44RV2J:00000001 [INF] Request finished in 442.1615ms 500 application/json (791a596a)
2020-09-28T16:07:38.2288562+03:30 0HM33LD44RV2J:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/favicon.ico   (ca22a1cb)
2020-09-28T16:07:38.2324151+03:30 0HM33LD44RV2J:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:07:38.2349368+03:30 0HM33LD44RV2J:00000002 [ERR] An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) (f8ff7a4f)
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass4_1.<UseMiddleware>b__2(HttpContext context)
   at WebFramework.Middlewares.AuthenticationMiddleware.Invoke(HttpContext context, IUserRepository userRepository) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\AuthenticationMiddleware.cs:line 84
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T16:07:38.2362989+03:30 0HM33LD44RV2J:00000002 [INF] Request finished in 7.5686ms 500 application/json (791a596a)
2020-09-28T16:07:57.8154733+03:30 0HM33LDA4FU2G:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T16:07:58.0920022+03:30 0HM33LDA4FU2G:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:07:58.1553126+03:30 0HM33LDA4FU2G:00000001 [ERR] An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) (f8ff7a4f)
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass4_1.<UseMiddleware>b__2(HttpContext context)
   at WebFramework.Middlewares.AuthenticationMiddleware.Invoke(HttpContext context, IUserRepository userRepository) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\AuthenticationMiddleware.cs:line 84
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T16:07:58.2135215+03:30 0HM33LDA4FU2G:00000001 [INF] Request finished in 403.132ms 500 application/json (791a596a)
2020-09-28T16:07:58.2552366+03:30 0HM33LDA4FU2G:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/favicon.ico   (ca22a1cb)
2020-09-28T16:07:58.2575963+03:30 0HM33LDA4FU2G:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:07:58.2605348+03:30 0HM33LDA4FU2G:00000002 [ERR] An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) (f8ff7a4f)
Autofac.Core.DependencyResolutionException: An error occurred during the activation of a particular registration. See the inner exception for details. Registration: Activator = SwaggerGenerator (ReflectionActivator), Services = [Swashbuckle.AspNetCore.Swagger.ISwaggerProvider], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope ---> None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'. (See inner exception for details.) ---> Autofac.Core.DependencyResolutionException: None of the constructors found with 'Autofac.Core.Activators.Reflection.DefaultConstructorFinder' on type 'Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator' can be invoked with the available services and parameters:
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Microsoft.Extensions.Options.IOptions`1[Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions])'.
Cannot resolve parameter 'Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider apiDescriptionsProvider' of constructor 'Void .ctor(Microsoft.AspNetCore.Mvc.ApiExplorer.IApiDescriptionGroupCollectionProvider, Swashbuckle.AspNetCore.SwaggerGen.ISchemaRegistryFactory, Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorOptions)'.
   at Autofac.Core.Activators.Reflection.ReflectionActivator.GetValidConstructorBindings(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Activators.Reflection.ReflectionActivator.ActivateInstance(IComponentContext context, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   --- End of inner exception stack trace ---
   at Autofac.Core.Resolving.InstanceLookup.Activate(IEnumerable`1 parameters)
   at Autofac.Core.Resolving.InstanceLookup.Execute()
   at Autofac.Core.Resolving.ResolveOperation.GetOrCreateInstance(ISharingLifetimeScope currentOperationScope, IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.Core.Resolving.ResolveOperation.Execute(IComponentRegistration registration, IEnumerable`1 parameters)
   at Autofac.ResolutionExtensions.TryResolveService(IComponentContext context, Service service, IEnumerable`1 parameters, Object& instance)
   at Autofac.ResolutionExtensions.ResolveOptionalService(IComponentContext context, Service service, IEnumerable`1 parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass4_1.<UseMiddleware>b__2(HttpContext context)
   at WebFramework.Middlewares.AuthenticationMiddleware.Invoke(HttpContext context, IUserRepository userRepository) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\AuthenticationMiddleware.cs:line 84
   at WebFramework.Middlewares.CustomExceptionHandlerMiddleware.Invoke(HttpContext context) in G:\RndSiurce\ApiTestEntityFramwork\ApiEntity\WebFramework\Middlewares\CustomExceptionHandlerMiddleware.cs:line 49
2020-09-28T16:07:58.2629943+03:30 0HM33LDA4FU2G:00000002 [INF] Request finished in 7.7364ms 500 application/json (791a596a)
2020-09-28T16:10:22.8001705+03:30 0HM33LELB6D65:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/index.html   (ca22a1cb)
2020-09-28T16:10:23.0679455+03:30 0HM33LELB6D65:00000001 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:10:23.1889863+03:30 0HM33LELB6D65:00000001 [INF] Request finished in 393.5743ms 200 text/html (791a596a)
2020-09-28T16:10:23.3437270+03:30 0HM33LELB6D65:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44378/swagger/v1/swagger.json   (ca22a1cb)
2020-09-28T16:10:23.3453334+03:30 0HM33LELB6D65:00000002 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:10:23.6197369+03:30 0HM33LELB6D65:00000002 [INF] Request finished in 276.0167ms 200 application/json;charset=utf-8 (791a596a)
2020-09-28T16:10:37.1842394+03:30 0HM33LELB6D65:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T16:10:37.1848397+03:30 0HM33LELB6D65:00000003 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:10:37.2978888+03:30 0HM33LELB6D65:00000003 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T16:10:37.3363538+03:30 0HM33LELB6D65:00000003 [INF] Executing action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T16:10:37.4690545+03:30 0HM33LELB6D65:00000003 [INF] Executed DbCommand ("10"ms) [Parameters=["@__idModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Amount], [t].[BankComment], [t].[DateTimeCreate], [t].[DateTimeUpdate], [t].[IdCity], [t].[IdCompany], [t].[IdOrder], [t].[IdServant], [t].[IdService], [t].[IdSession], [t].[IsSend], [t].[RRN], [t].[ServiceCode], [t].[ShabaId], [t].[SpecialCode], [t].[StatusPay], [t].[TrackingCode], [t].[TypeAccountPay]
FROM [Orders] AS [t]
WHERE [t].[IdOrder] = @__idModel_Id_0" (0723d8ff)
2020-09-28T16:10:37.4778776+03:30 0HM33LELB6D65:00000003 [INF] Executed action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 138.4358ms. (50a9e262)
2020-09-28T16:10:37.4933105+03:30 0HM33LELB6D65:00000003 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T16:10:37.5060492+03:30 0HM33LELB6D65:00000003 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 205.208ms (afa2e885)
2020-09-28T16:10:37.5112605+03:30 0HM33LELB6D65:00000003 [INF] Request finished in 327.0741ms 200 application/json; charset=utf-8 (791a596a)
2020-09-28T16:10:48.9599735+03:30 0HM33LELB6D65:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:44378/api/v1/Order/GetById application/json-patch+json 13 (ca22a1cb)
2020-09-28T16:10:48.9605443+03:30 0HM33LELB6D65:00000004 [INF] Entity Framework Core "2.1.14-servicing-32113" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2020-09-28T16:10:48.9615765+03:30 0HM33LELB6D65:00000004 [INF] Route matched with "{action = \"GetById\", controller = \"Order\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Entites.Order]]] GetById(ApiEntity.Models.GetIdModel, System.Threading.CancellationToken)" on controller "ApiEntity.Controllers.v1.OrderController" ("ApiEntity"). (122b2fdf)
2020-09-28T16:10:48.9627491+03:30 0HM33LELB6D65:00000004 [INF] Executing action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" - Validation state: Valid (dad538d7)
2020-09-28T16:10:48.9671685+03:30 0HM33LELB6D65:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__idModel_Id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Amount], [t].[BankComment], [t].[DateTimeCreate], [t].[DateTimeUpdate], [t].[IdCity], [t].[IdCompany], [t].[IdOrder], [t].[IdServant], [t].[IdService], [t].[IdSession], [t].[IsSend], [t].[RRN], [t].[ServiceCode], [t].[ShabaId], [t].[SpecialCode], [t].[StatusPay], [t].[TrackingCode], [t].[TypeAccountPay]
FROM [Orders] AS [t]
WHERE [t].[IdOrder] = @__idModel_Id_0" (0723d8ff)
2020-09-28T16:10:48.9675070+03:30 0HM33LELB6D65:00000004 [INF] Executed action method "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4.6829ms. (50a9e262)
2020-09-28T16:10:48.9679161+03:30 0HM33LELB6D65:00000004 [INF] Executing JsonResult, writing value of type '"WebFramework.Api.ApiResult`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2020-09-28T16:10:48.9683512+03:30 0HM33LELB6D65:00000004 [INF] Executed action "ApiEntity.Controllers.v1.OrderController.GetById (ApiEntity)" in 6.6823ms (afa2e885)
2020-09-28T16:10:48.9685816+03:30 0HM33LELB6D65:00000004 [INF] Request finished in 8.6893ms 200 application/json; charset=utf-8 (791a596a)
